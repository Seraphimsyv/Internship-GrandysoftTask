{"ast":null,"code":"var _jsxFileName = \"/home/kirill/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Test/task_grandysoft/src/DrawBoard.js\";\nimport * as React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass DrawBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLeftClick = this.handleLeftClick.bind(this);\n    this.handleRightClick = this.handleRightClick.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleCollapseClick = this.handleCollapseClick.bind(this);\n    this.state = {\n      contextId: 'DrawBoardDiv',\n      isDraw: false,\n      lines: [],\n      dots: {},\n      lastPoints: {},\n      lastDots: {}\n    };\n  }\n  handleLeftClick(evt) {\n    if (this.state.isDraw !== true) {\n      this.setState({\n        isDraw: true,\n        lastPoints: {\n          start: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          },\n          end: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          }\n        }\n      });\n    } else {\n      let point = Object.assign({\n        center: this.getCenter(this.state.lastPoints.start, this.state.lastPoints.end)\n      }, this.state.lastPoints);\n      let lines = [point].concat(this.state.lines);\n      this.setState({\n        isDraw: false,\n        lines: lines,\n        dots: Object.assign(this.state.dots, this.state.lastDots),\n        lastPoints: {},\n        lastDots: {}\n      });\n    }\n  }\n  handleRightClick(evt) {\n    evt.preventDefault();\n    if (this.state.isDraw === true) {\n      this.setState({\n        isDraw: false,\n        lastDots: {}\n      });\n    }\n  }\n  handleMouseMove(evt) {\n    if (this.state.isDraw === true) {\n      let lastPoint = Object.assign({}, this.state.lastPoints);\n      lastPoint.end = {\n        x: evt.nativeEvent.x,\n        y: evt.nativeEvent.y\n      };\n      const ctx = window.document.getElementById(this.state.contextId).getContext('2d');\n      ctx.clearRect(0, 0, 500, 500);\n      this.drawLine(ctx, lastPoint.start, lastPoint.end);\n      for (let l = 0; l < this.state.lines.length; l++) {\n        this.drawLine(ctx, this.state.lines[l].start, this.state.lines[l].end);\n      }\n      this.setState({\n        lastPoints: lastPoint\n      });\n    }\n  }\n  handleCollapseClick() {}\n  drawLine(ctx, start, end) {\n    ctx.beginPath();\n    ctx.moveTo(start.x, start.y);\n    ctx.lineTo(end.x, end.y);\n    ctx.stroke();\n  }\n  drawDot() {}\n  getCenter(start, end) {\n    return {\n      x: (start.x + end.x) / 2,\n      y: (start.y + end.y) / 2\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        style: {\n          border: '1px solid red'\n        },\n        id: \"DrawBoardDiv\",\n        width: \"500\",\n        height: \"500\",\n        onClick: this.handleLeftClick,\n        onContextMenu: this.handleRightClick,\n        onMouseMove: this.handleMouseMove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default DrawBoard;","map":{"version":3,"names":["React","DrawBoard","Component","constructor","props","handleLeftClick","bind","handleRightClick","handleMouseMove","handleCollapseClick","state","contextId","isDraw","lines","dots","lastPoints","lastDots","evt","setState","start","x","nativeEvent","y","end","point","Object","assign","center","getCenter","concat","preventDefault","lastPoint","ctx","window","document","getElementById","getContext","clearRect","drawLine","l","length","beginPath","moveTo","lineTo","stroke","drawDot","render","border"],"sources":["/home/kirill/Документы/Test/task_grandysoft/src/DrawBoard.js"],"sourcesContent":["import * as React from 'react';\n\nclass DrawBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLeftClick = this.handleLeftClick.bind(this);\n    this.handleRightClick = this.handleRightClick.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleCollapseClick = this.handleCollapseClick.bind(this);\n    this.state = {\n      contextId: 'DrawBoardDiv',\n      isDraw: false,\n      lines: [],\n      dots: {},\n      lastPoints: {},\n      lastDots: {}\n    };\n  }\n\n  handleLeftClick(evt) {\n    if (this.state.isDraw !== true) {\n      this.setState({\n        isDraw: true,\n        lastPoints: {\n          start: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          },\n          end: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          }\n        }\n      })\n    } else {\n      let point = Object.assign(\n        { center: this.getCenter(this.state.lastPoints.start, this.state.lastPoints.end) },\n        this.state.lastPoints\n      );  \n      let lines = [point].concat(this.state.lines);\n      this.setState({\n        isDraw: false,\n        lines: lines,\n        dots: Object.assign(this.state.dots, this.state.lastDots),\n        lastPoints: {},\n        lastDots: {}\n      })\n    }\n  }\n\n  handleRightClick(evt) {\n    evt.preventDefault();\n    if (this.state.isDraw === true) {\n      this.setState({\n        isDraw: false,\n        lastDots: {}\n      })\n    }\n  }\n\n  handleMouseMove(evt) {\n    if (this.state.isDraw === true) {\n\n      let lastPoint = Object.assign({}, this.state.lastPoints);\n      lastPoint.end = {\n        x: evt.nativeEvent.x,\n        y: evt.nativeEvent.y\n      };\n\n      const ctx = window.document.getElementById(this.state.contextId).getContext('2d');\n\n      ctx.clearRect(0, 0, 500, 500);\n      this.drawLine(ctx, lastPoint.start, lastPoint.end);\n\n      for(let l = 0; l < this.state.lines.length; l++) {\n        this.drawLine(ctx, this.state.lines[l].start, this.state.lines[l].end);\n      }\n\n      this.setState({\n        lastPoints: lastPoint\n      });\n    }\n  }\n\n  handleCollapseClick() {\n\n  }\n\n  drawLine(ctx, start, end) {\n    ctx.beginPath();\n    ctx.moveTo(start.x, start.y);\n    ctx.lineTo(end.x, end.y);\n    ctx.stroke();\n  }\n\n  drawDot() {\n\n  }\n\n  getCenter(start, end) {\n    return {\n      x: (start.x + end.x) / 2,\n      y: (start.y + end.y) / 2\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <canvas\n          style={{ border: '1px solid red'}}\n          id=\"DrawBoardDiv\"\n          width='500'\n          height='500'\n          onClick={this.handleLeftClick}\n          onContextMenu={this.handleRightClick}\n          onMouseMove={this.handleMouseMove}\n        />\n      </div>\n    )\n  }\n}\n\nexport default DrawBoard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}