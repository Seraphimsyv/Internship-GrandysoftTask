{"ast":null,"code":"var _jsxFileName = \"/home/kirill/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Test/task_grandysoft/src/DrawBoard.js\";\nimport * as React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass DrawBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLeftClick = this.handleLeftClick.bind(this);\n    this.handleRightClick = this.handleRightClick.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleCollapseClick = this.handleCollapseClick.bind(this);\n    this.state = {\n      context: null,\n      isDraw: false,\n      lines: [],\n      dots: {},\n      lastPoints: {},\n      lastDots: {}\n    };\n  }\n  componentDidMount() {\n    let elem = document.getElementById('DrawBoardDiv');\n    let context = elem.getContext('2d');\n    this.setState({\n      context: context\n    });\n  }\n  handleLeftClick(evt) {\n    if (this.state.isDraw !== true) {\n      this.setState({\n        isDraw: true,\n        lastPoints: {\n          start: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          },\n          end: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          }\n        }\n      });\n    } else {\n      let point = Object.assign({\n        center: this.getCenter(this.state.lastPoints.start, this.state.lastPoints.end)\n      }, this.state.lastPoints);\n      let lines = [point].concat(this.state.lines);\n      this.setState({\n        isDraw: false,\n        lines: lines,\n        dots: Object.assign(this.state.dots, this.state.lastDots),\n        lastPoints: {},\n        lastDots: {}\n      });\n    }\n  }\n  handleRightClick(evt) {\n    evt.preventDefault();\n    if (this.state.isDraw === true) {\n      this.setState({\n        isDraw: false,\n        lastDots: {}\n      });\n    }\n  }\n  handleMouseMove(evt) {\n    if (this.state.isDraw === true) {\n      let lastPoint = Object.assign({}, this.state.lastPoints);\n      lastPoint.end = {\n        x: evt.nativeEvent.x,\n        y: evt.nativeEvent.y\n      };\n      this.state.context.clearRect(0, 0, 500, 500);\n      this.state.context.beginPath();\n      this.context.moveTo(lastPoint.start.x, lastPoint.start.y);\n      this.context.lineTo(lastPoint.end.x, lastPoint.end.y);\n      this.context.stroke();\n      this.setState({\n        lastPoints: lastPoint\n      });\n    }\n  }\n  handleCollapseClick() {}\n  getCenter(start, end) {\n    return {\n      x: (start.x + end.x) / 2,\n      y: (start.y + end.y) / 2\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        style: {\n          border: '1px solid red'\n        },\n        id: \"DrawBoardDiv\",\n        width: \"500\",\n        height: \"500\",\n        onClick: this.handleLeftClick,\n        onContextMenu: this.handleRightClick,\n        onMouseMove: this.handleMouseMove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default DrawBoard;","map":{"version":3,"names":["React","DrawBoard","Component","constructor","props","handleLeftClick","bind","handleRightClick","handleMouseMove","handleCollapseClick","state","context","isDraw","lines","dots","lastPoints","lastDots","componentDidMount","elem","document","getElementById","getContext","setState","evt","start","x","nativeEvent","y","end","point","Object","assign","center","getCenter","concat","preventDefault","lastPoint","clearRect","beginPath","moveTo","lineTo","stroke","render","border"],"sources":["/home/kirill/Документы/Test/task_grandysoft/src/DrawBoard.js"],"sourcesContent":["import * as React from 'react';\n\nclass DrawBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLeftClick = this.handleLeftClick.bind(this);\n    this.handleRightClick = this.handleRightClick.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleCollapseClick = this.handleCollapseClick.bind(this);\n    this.state = {\n      context: null,\n      isDraw: false,\n      lines: [],\n      dots: {},\n      lastPoints: {},\n      lastDots: {}\n    };\n  }\n\n  componentDidMount() {\n    let elem = document.getElementById('DrawBoardDiv');\n    let context = elem.getContext('2d');\n    this.setState({\n      context: context\n    });\n  }\n\n  handleLeftClick(evt) {\n    if (this.state.isDraw !== true) {\n      this.setState({\n        isDraw: true,\n        lastPoints: {\n          start: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          },\n          end: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          }\n        }\n      })\n    } else {\n      let point = Object.assign(\n        { center: this.getCenter(this.state.lastPoints.start, this.state.lastPoints.end) },\n        this.state.lastPoints\n      );\n      let lines = [point].concat(this.state.lines);\n      this.setState({\n        isDraw: false,\n        lines: lines,\n        dots: Object.assign(this.state.dots, this.state.lastDots),\n        lastPoints: {},\n        lastDots: {}\n      })\n    }\n  }\n\n  handleRightClick(evt) {\n    evt.preventDefault();\n    if (this.state.isDraw === true) {\n      this.setState({\n        isDraw: false,\n        lastDots: {}\n      })\n    }\n  }\n\n  handleMouseMove(evt) {\n    if (this.state.isDraw === true) {\n\n      let lastPoint = Object.assign({}, this.state.lastPoints);\n      lastPoint.end = {\n        x: evt.nativeEvent.x,\n        y: evt.nativeEvent.y\n      };\n\n      this.state.context.clearRect(0, 0, 500, 500);\n      this.state.context.beginPath();\n      this.context.moveTo(lastPoint.start.x, lastPoint.start.y);\n      this.context.lineTo(lastPoint.end.x, lastPoint.end.y);\n      this.context.stroke();\n\n      this.setState({\n        lastPoints: lastPoint\n      });\n    }\n  }\n\n  handleCollapseClick() {\n\n  }\n\n  getCenter(start, end) {\n    return {\n      x: (start.x + end.x) / 2,\n      y: (start.y + end.y) / 2\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <canvas\n          style={{ border: '1px solid red'}}\n          id=\"DrawBoardDiv\"\n          width='500'\n          height='500'\n          onClick={this.handleLeftClick}\n          onContextMenu={this.handleRightClick}\n          onMouseMove={this.handleMouseMove}\n        />\n      </div>\n    )\n  }\n}\n\nexport default DrawBoard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}