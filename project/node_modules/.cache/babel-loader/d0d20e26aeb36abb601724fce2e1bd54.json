{"ast":null,"code":"var _jsxFileName = \"/home/kirill/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Test/task_grandysoft/src/DrawBoard.js\";\nimport * as React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass DrawBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLeftClick = this.handleLeftClick.bind(this);\n    this.handleRightClick = this.handleRightClick.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleCollapseClick = this.handleCollapseClick.bind(this);\n    this.state = {\n      contextId: 'DrawBoardDiv',\n      isDraw: false,\n      lines: [],\n      dots: {},\n      lastPoints: {},\n      lastDots: {}\n    };\n  }\n  handleLeftClick(evt) {\n    if (this.state.isDraw !== true) {\n      this.setState({\n        isDraw: true,\n        lastPoints: {\n          start: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          },\n          end: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          }\n        }\n      });\n    } else {\n      let point = Object.assign({\n        center: this.getCenter(this.state.lastPoints.start, this.state.lastPoints.end)\n      }, this.state.lastPoints);\n      let lines = [point].concat(this.state.lines);\n      this.setState({\n        isDraw: false,\n        lines: lines,\n        dots: Object.assign(this.state.dots, this.state.lastDots),\n        lastPoints: {},\n        lastDots: {}\n      });\n    }\n  }\n  handleRightClick(evt) {\n    evt.preventDefault();\n    if (this.state.isDraw === true) {\n      const ctx = window.document.getElementById(this.state.contextId).getContext('2d');\n      this.clearCanvas();\n      for (let l = 0; l < this.state.lines.length; l++) {\n        this.drawLine(ctx, this.state.lines[l].start, this.state.lines[l].end);\n      }\n      for (const dot in this.state.dots) {\n        this.drawIntersect(ctx, this.state.dots[dot].x, this.state.dots[dot].y);\n      }\n      this.setState({\n        isDraw: false,\n        lastDots: {}\n      });\n    }\n  }\n  handleMouseMove(evt) {\n    if (this.state.isDraw === true) {\n      let lastDots = {};\n      let lastPoint = Object.assign({}, this.state.lastPoints);\n      lastPoint.end = {\n        x: evt.nativeEvent.x,\n        y: evt.nativeEvent.y\n      };\n      const ctx = window.document.getElementById(this.state.contextId).getContext('2d');\n      this.clearCanvas();\n      this.drawLine(ctx, lastPoint.start, lastPoint.end);\n      for (let l = 0; l < this.state.lines.length; l++) {\n        this.drawLine(ctx, this.state.lines[l].start, this.state.lines[l].end);\n        let dot = this.checkIntersect(this.state.lines[l].start, this.state.lines[l].end, lastPoint.start, lastPoint.end);\n        if (dot !== undefined) {\n          this.drawIntersect(ctx, dot.x, dot.y);\n          lastDots[`${l}-${this.state.lines.length}`] = dot;\n        } else {\n          delete lastDots[`${l}-${this.state.lines.length}`];\n        }\n      }\n      for (const dot in this.state.dots) {\n        this.drawIntersect(ctx, this.state.dots[dot].x, this.state.dots[dot].y);\n      }\n      this.setState({\n        lastPoints: lastPoint,\n        lastDots: Object.assign(this.state.lastDots, lastDots)\n      });\n    }\n  }\n  collapseLines() {\n    const ctx = window.document.getElementById(this.state.contextId).getContext('2d');\n    this.clearCanvas();\n    let lines = [].concat(this.state.lines);\n    for (let l = 0; l < lines.length; l++) {\n      let new_start = null;\n      let new_end = null;\n      for (let p = 0; p < 5; p++) {\n        if (new_start === null && new_end === null) {\n          new_start = this.getCenter(lines[l].start, lines[l].center);\n          new_end = this.getCenter(lines[l].end, lines[l].center);\n        } else {\n          new_start = this.getCenter(lines[l].start, new_start);\n          new_end = this.getCenter(lines[l].end, new_end);\n        }\n      }\n      lines[l].start = new_start;\n      lines[l].end = new_end;\n      this.setState({\n        lines: lines\n      });\n      this.drawLine(ctx, new_start, new_end);\n    }\n  }\n  handleCollapseClick() {\n    let count = 0;\n    this.intervalCollapse = setInterval(() => this.collapseLines(), 15);\n    this.intervalTimer = setInterval(() => {\n      if (count === 3) {\n        this.clearCanvas();\n        clearInterval(this.intervalCollapse);\n        clearInterval(this.intervalTimer);\n        this.setState({\n          lines: [],\n          dots: {},\n          lastPoints: {},\n          lastDots: {}\n        });\n      } else {\n        count += 1;\n      }\n    }, 1000);\n  }\n  drawLine(ctx, start, end) {\n    ctx.beginPath();\n    ctx.moveTo(start.x, start.y);\n    ctx.lineTo(end.x, end.y);\n    ctx.stroke();\n  }\n  drawIntersect(ctx, x, y) {\n    ctx.beginPath();\n    ctx.arc(x, y, 10, 0, 2 * Math.PI);\n    ctx.fill();\n    ctx.fillStyle = 'red';\n    ctx.strokeStyle = \"black\";\n    ctx.stroke();\n  }\n  getCenter(start, end) {\n    return {\n      x: (start.x + end.x) / 2,\n      y: (start.y + end.y) / 2\n    };\n  }\n  checkIntersect(from1, to1, from2, to2) {\n    const dX = to1.x - from1.x;\n    const dY = to1.y - from1.y;\n    const determinant = dX * (to2.y - from2.y) - (to2.x - from2.x) * dY;\n    if (determinant === 0) return false;\n    const lambda = ((to2.y - from2.y) * (to2.x - from1.x) + (from2.x - to2.x) * (to2.y - from1.y)) / determinant;\n    const gamma = ((from1.y - to1.y) * (to2.x - from1.x) + dX * (to2.y - from1.y)) / determinant;\n    if (!(0 <= lambda && lambda <= 1) || !(0 <= gamma && gamma <= 1)) return undefined;\n    return {\n      x: from1.x + lambda * dX,\n      y: from1.y + lambda * dY\n    };\n  }\n  clearCanvas() {\n    const elem = window.document.getElementById(this.state.contextId);\n    const ctx = elem.getContext('2d');\n    ctx.clearRect(0, 0, elem.width, elem.height);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'start'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        style: {\n          border: '1px solid red'\n        },\n        id: \"DrawBoardDiv\",\n        width: \"500\",\n        height: \"500\",\n        onClick: this.handleLeftClick,\n        onContextMenu: this.handleRightClick,\n        onMouseMove: this.handleMouseMove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.handleCollapseClick,\n        children: \"Collapse lines\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default DrawBoard;","map":{"version":3,"names":["React","DrawBoard","Component","constructor","props","handleLeftClick","bind","handleRightClick","handleMouseMove","handleCollapseClick","state","contextId","isDraw","lines","dots","lastPoints","lastDots","evt","setState","start","x","nativeEvent","y","end","point","Object","assign","center","getCenter","concat","preventDefault","ctx","window","document","getElementById","getContext","clearCanvas","l","length","drawLine","dot","drawIntersect","lastPoint","checkIntersect","undefined","collapseLines","new_start","new_end","p","count","intervalCollapse","setInterval","intervalTimer","clearInterval","beginPath","moveTo","lineTo","stroke","arc","Math","PI","fill","fillStyle","strokeStyle","from1","to1","from2","to2","dX","dY","determinant","lambda","gamma","elem","clearRect","width","height","render","display","flexDirection","justifyContent","border"],"sources":["/home/kirill/Документы/Test/task_grandysoft/src/DrawBoard.js"],"sourcesContent":["import * as React from 'react';\n\nclass DrawBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLeftClick = this.handleLeftClick.bind(this);\n    this.handleRightClick = this.handleRightClick.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleCollapseClick = this.handleCollapseClick.bind(this);\n    this.state = {\n      contextId: 'DrawBoardDiv',\n      isDraw: false,\n      lines: [],\n      dots: {},\n      lastPoints: {},\n      lastDots: {}\n    };\n  }\n\n  handleLeftClick(evt) {\n    if (this.state.isDraw !== true) {\n      this.setState({\n        isDraw: true,\n        lastPoints: {\n          start: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          },\n          end: {\n            x: evt.nativeEvent.x,\n            y: evt.nativeEvent.y\n          }\n        }\n      })\n    } else {\n      let point = Object.assign(\n        { center: this.getCenter(this.state.lastPoints.start, this.state.lastPoints.end) },\n        this.state.lastPoints\n      );  \n      let lines = [point].concat(this.state.lines);\n      this.setState({\n        isDraw: false,\n        lines: lines,\n        dots: Object.assign(this.state.dots, this.state.lastDots),\n        lastPoints: {},\n        lastDots: {}\n      })\n    }\n  }\n\n  handleRightClick(evt) {\n    evt.preventDefault();\n    if (this.state.isDraw === true) {\n\n      const ctx = window.document.getElementById(this.state.contextId).getContext('2d');\n      \n      this.clearCanvas()\n\n      for(let l = 0; l < this.state.lines.length; l++) {\n        this.drawLine(ctx, this.state.lines[l].start, this.state.lines[l].end);\n      }\n\n      for(const dot in this.state.dots) {\n        this.drawIntersect(ctx, this.state.dots[dot].x, this.state.dots[dot].y);\n      }\n\n      this.setState({\n        isDraw: false,\n        lastDots: {}\n      })\n    }\n  }\n\n  handleMouseMove(evt) {\n    if (this.state.isDraw === true) {\n      let lastDots = {};\n      let lastPoint = Object.assign({}, this.state.lastPoints);\n      lastPoint.end = {\n        x: evt.nativeEvent.x,\n        y: evt.nativeEvent.y\n      };\n\n      const ctx = window.document.getElementById(this.state.contextId).getContext('2d');\n\n      this.clearCanvas()\n      \n      this.drawLine(ctx, lastPoint.start, lastPoint.end);\n\n      for(let l = 0; l < this.state.lines.length; l++) {\n        this.drawLine(ctx, this.state.lines[l].start, this.state.lines[l].end);\n\n        let dot = this.checkIntersect(this.state.lines[l].start, this.state.lines[l].end, lastPoint.start, lastPoint.end);\n        if (dot !== undefined) {\n          this.drawIntersect(ctx, dot.x, dot.y);\n          lastDots[`${l}-${this.state.lines.length}`] = dot;\n        } else {\n          delete lastDots[`${l}-${this.state.lines.length}`];\n        }\n      }\n\n      for(const dot in this.state.dots) {\n        this.drawIntersect(ctx, this.state.dots[dot].x, this.state.dots[dot].y);\n      }\n\n      this.setState({\n        lastPoints: lastPoint,\n        lastDots: Object.assign(this.state.lastDots, lastDots)\n      });\n    }\n  }\n\n  collapseLines() {\n    const ctx = window.document.getElementById(this.state.contextId).getContext('2d');\n    \n    this.clearCanvas()\n\n    let lines = [].concat(this.state.lines);\n\n    for(let l = 0; l < lines.length; l++) {\n      \n      let new_start = null;\n      let new_end = null;\n\n      for(let p = 0; p < 5; p++) {\n        if (new_start === null && new_end === null) {\n          new_start = this.getCenter(lines[l].start, lines[l].center)\n          new_end = this.getCenter(lines[l].end, lines[l].center)\n        } else {\n          new_start = this.getCenter(lines[l].start, new_start)\n          new_end = this.getCenter(lines[l].end, new_end)\n        }\n      }\n\n      lines[l].start = new_start;\n      lines[l].end = new_end;\n\n      this.setState({ lines: lines });\n\n      this.drawLine(ctx, new_start, new_end);\n    }\n\n  }\n\n  handleCollapseClick() {\n    let count = 0;\n    this.intervalCollapse = setInterval(() => this.collapseLines(), 15);\n    this.intervalTimer = setInterval(\n      () => {\n        if (count === 3) {\n          this.clearCanvas()\n          clearInterval(this.intervalCollapse);\n          clearInterval(this.intervalTimer);\n          this.setState({\n            lines: [],\n            dots: {},\n            lastPoints: {},\n            lastDots: {}\n          })\n        } else {\n          count += 1;\n        }\n      }, 1000\n    )\n  }\n\n  drawLine(ctx, start, end) {\n    ctx.beginPath();\n    ctx.moveTo(start.x, start.y);\n    ctx.lineTo(end.x, end.y);\n    ctx.stroke();\n  }\n\n  drawIntersect(ctx, x, y) {\n    ctx.beginPath();\n    ctx.arc(x, y, 10, 0, 2 * Math.PI);\n    ctx.fill();\n    ctx.fillStyle = 'red'\n    ctx.strokeStyle = \"black\";\n    ctx.stroke();\n  }\n\n  getCenter(start, end) {\n    return {\n      x: (start.x + end.x) / 2,\n      y: (start.y + end.y) / 2\n    }\n  }\n\n  checkIntersect(from1, to1, from2, to2) {\n    const dX = to1.x - from1.x;\n    const dY = to1.y - from1.y;\n  \n    const determinant =  dX * (to2.y - from2.y) - (to2.x - from2.x) * dY;\n    if (determinant === 0) return false;\n  \n    const lambda = ((to2.y - from2.y) * (to2.x - from1.x) + (from2.x - to2.x) * (to2.y - from1.y)) / determinant;\n    const gamma = ((from1.y - to1.y) * (to2.x - from1.x) + dX * (to2.y - from1.y)) / determinant;\n  \n    if (!(0 <= lambda && lambda <= 1) || !(0 <= gamma && gamma <= 1)) return undefined;\n  \n    return {\n      x: from1.x + lambda * dX,\n      y: from1.y + lambda * dY,\n    };\n  }\n\n  clearCanvas() {\n    const elem = window.document.getElementById(this.state.contextId);\n    const ctx = elem.getContext('2d');\n    ctx.clearRect(0, 0, elem.width, elem.height);\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'start'\n        }}\n      >\n        <canvas\n          style={{ border: '1px solid red'}}\n          id=\"DrawBoardDiv\"\n          width='500'\n          height='500'\n          onClick={this.handleLeftClick}\n          onContextMenu={this.handleRightClick}\n          onMouseMove={this.handleMouseMove}\n        />\n        <button\n          onClick={this.handleCollapseClick}\n        >\n          Collapse lines\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default DrawBoard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}